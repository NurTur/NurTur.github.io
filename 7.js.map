{"version":3,"sources":["webpack:///./src/views/pages/paymentPage/page.jsx"],"names":["tabTitles","title","value","tableTitles","name","field","type","tooltipText","tableTitles2","PaymentPage","props","formatter","Intl","NumberFormat","React","useState","totalForPayment","setTotalForPayment","id","borrower_full_name","borrower_iin","fines_payment","input_item","format","сhoosed_item","tableData","setTableData","removeSpace","str","arr","String","i","length","indexOf","handleTableChange","index","numValue","newTableData","push","top","num","Number","console","log","mobile","window","innerWidth","className","style","marginTop","display","flexDirection","justifyContent","maxWidth","label","text","tableTitle","page","color","fontSize","width","onClick","history","disabled","message","src","QuestionMark","marginRight","marginBottom","alignItems","faqItems"],"mappings":"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","file":"7.js","sourcesContent":["import React, { useState } from \"react\";\r\nimport SVG from \"react-inlinesvg\";\r\nimport { Layout } from \"@/views/layout\";\r\nimport DisabledInput from \"@/components/disabledInput/index\";\r\nimport { Accordion, Tabs, Table, ContractCards, Button } from \"@/components\";\r\nimport { history } from \"@/helpers\";\r\nimport TooltipText from \"public/tooltipText.svg\";\r\nimport QuestionMark from \"public/questionMark.svg\";\r\nimport { Tooltip } from \"@/components\";\r\nimport { faqItems } from \"../data/faqItems\";\r\nimport \"./style.scss\";\r\n\r\n\r\n\r\nconst tabTitles = [\r\n  {\r\n    title: \"Ежемесячный платеж\",\r\n    value: 0,\r\n  },\r\n  {\r\n    title: \"Досрочное погашение\",\r\n    value: 1,\r\n  },\r\n];\r\n\r\nconst tableTitles = [\r\n  { name: \"\", field: \"сhoosed_item\", type: \"checkbox\" },\r\n  { name: \"Информация о договоре\", field: \"id\" },\r\n  {\r\n    name: \"Остаток задолженности\",\r\n    field: \"borrower_full_name\",\r\n    type: \"currency\",\r\n  },\r\n  { name: \"Ежемесячный платеж\", field: \"borrower_iin\", type: \"currency\" },\r\n  {\r\n    name: \"Штрафы,пени\",\r\n    field: \"fines_payment\",\r\n    tooltipText: \"Сумма штрафов и пени всегда включена в сумму общего платежа\",\r\n    type: \"fines\",\r\n  },\r\n  {\r\n    name: \"К оплате\",\r\n    field: \"input_item\",\r\n    tooltipText:\r\n      \"Поле доступно для редактирования. Не забудьте внести сумму с учетом штрафов или пени, в случае их наличия\",\r\n    type: \"input\",\r\n  },\r\n  { name: \"Оплатить до\", field: \"status\" },\r\n];\r\n\r\nconst tableTitles2 = [\r\n  { name: \"\", field: \"сhoosed_item\", type: \"checkbox\" },\r\n  { name: \"Информация о договоре\", field: \"id\" },\r\n  {\r\n    name: \"Остаток задолженности\",\r\n    field: \"borrower_full_name\",\r\n    type: \"currency\",\r\n  },\r\n\r\n  {\r\n    name: \"Штрафы,пени\",\r\n    field: \"fines_payment\",\r\n    tooltipText: \"Сумма штрафов и пени всегда включена в сумму общего платежа\",\r\n    type: \"fines\",\r\n  },\r\n  {\r\n    name: \"Сумма для частично досрочного погашения\",\r\n    field: \"borrower_full_name\",\r\n    type: \"currency\",\r\n  },\r\n  {\r\n    name: \"К оплате\",\r\n    field: \"input_item\",\r\n    tooltipText:\r\n      \"Поле доступно для редактирования. Не забудьте внести сумму с учетом штрафов или пени, в случае их наличия\",\r\n    type: \"input\",\r\n  },\r\n  {\r\n    name: \"Переплата по займу\",\r\n    field: \"borrower_full_name\",\r\n    type: \"currency\",\r\n  },\r\n];\r\n\r\nconst PaymentPage = (props) => {\r\n  const formatter = new Intl.NumberFormat(\"ru\", {});\r\n  const [totalForPayment, setTotalForPayment] = React.useState(0);\r\n  const [tableData, setTableData] = useState([\r\n    {\r\n      id: \"№ 135 от 12.12.2020 Ипотека\",\r\n      borrower_full_name: \"100000\",\r\n      borrower_iin: \"10000\",\r\n      fines_payment: \"1000\",\r\n      input_item: formatter.format(\"11000\"),\r\n      сhoosed_item: false,\r\n    },\r\n    {\r\n      id: \"№ 135 от 12.12.2020 Товарный кредит\",\r\n      borrower_full_name: \"120000\",\r\n      borrower_iin: \"50000\",\r\n      fines_payment: \"3000\",\r\n      input_item: formatter.format(\"53000\"),\r\n      сhoosed_item: false,\r\n    },\r\n    {\r\n      id: \"№ 135 от 12.12.2020 Ипотека\",\r\n      borrower_full_name: \"140000\",\r\n      borrower_iin: \"10000\",\r\n      fines_payment: \"2000\",\r\n      input_item: formatter.format(\"120000\"),\r\n      сhoosed_item: false,\r\n    },\r\n  ]);\r\n\r\n  function removeSpace(value) {\r\n    let str = \"\";\r\n    let arr = String(value);\r\n    for (let i = 0; i < arr.length; i++) {\r\n      if (\r\n        [\"0\", \"1\", \"2\", \"3\", \"4\", \"5\", \"6\", \"7\", \"8\", \"9\"].indexOf(arr[i]) >= 0\r\n      ) {\r\n        str += arr[i];\r\n      }\r\n    }\r\n    return str;\r\n  }\r\n\r\n  const handleTableChange = (index, field, value) => {\r\n    let numValue = removeSpace(value);\r\n\r\n    let newTableData = [];\r\n    if (tableData.length > 0) {\r\n      for (let i = 0; i < tableData.length; i++) {\r\n        if (index !== i) {\r\n          newTableData.push(tableData[i]);\r\n        } else {\r\n          newTableData.push({\r\n            ...tableData[i],\r\n            [field]: numValue ? formatter.format(numValue) : value,\r\n          });\r\n        }\r\n      }\r\n\r\n      let top = 0;\r\n      if (newTableData.length > 0) {\r\n        for (let i = 0; i < newTableData.length; i++) {\r\n          const num = Number(removeSpace(newTableData[i].input_item));\r\n          console.log(num);\r\n          if (newTableData[i].сhoosed_item && num) {\r\n            top += num;\r\n          }\r\n        }\r\n      }\r\n      console.log(index, field, value);\r\n      setTotalForPayment(top);\r\n      setTableData(newTableData);\r\n    }\r\n  };\r\n\r\n  const mobile = window.innerWidth < 600;\r\n  return (\r\n    <Layout>\r\n      <div className=\"home\">\r\n        {!mobile && (\r\n          <>\r\n            <div className=\"container\" style={{ marginTop: \"40px\" }}>\r\n              <h3>Информация о заемщике</h3>\r\n              <div\r\n                style={{\r\n                  display: \"flex\",\r\n                  flexDirection: \"row\",\r\n                  justifyContent: \"space-between\",\r\n                  maxWidth: \"700px\",\r\n                }}\r\n              >\r\n                <DisabledInput label=\"Имя\" text=\"Оспанов Дамир Маратович\" />\r\n                <DisabledInput label=\"ИИН\" text=\"9601233212233\" />\r\n              </div>\r\n            </div>\r\n            <div className=\"container\" style={{ marginTop: \"80px\" }}>\r\n              <Tabs tabTitles={tabTitles}>\r\n                <Table\r\n                  tableTitle={tableTitles}\r\n                  tableData={tableData}\r\n                  page={0}\r\n                  handleTableChange={handleTableChange}\r\n                />\r\n\r\n                <Table\r\n                  tableTitle={tableTitles2}\r\n                  tableData={tableData}\r\n                  page={0}\r\n                  handleTableChange={handleTableChange}\r\n                />\r\n              </Tabs>\r\n            </div>{\" \"}\r\n            <div\r\n              className=\"container\"\r\n              style={{\r\n                marginTop: \"80px\",\r\n                display: \"flex\",\r\n                justifyContent: \"space-between\",\r\n              }}\r\n            >\r\n              <div style={{ display: \"flex\", flexDirection: \"column\" }}>\r\n                <h2>Итого к оплате: {formatter.format(totalForPayment)} ₸</h2>\r\n                <p\r\n                  style={{\r\n                    maxWidth: \"430px\",\r\n                    color: \"#737373\",\r\n                    fontSize: \"14px\",\r\n                  }}\r\n                >\r\n                  <span style={{ color: \"red\" }}>*</span> Оплаты принятые после{\" \"}\r\n                  <strong>16:00</strong> в рабочие дни, а также оплаты в{\" \"}\r\n                  <strong>выходные/праздничные</strong> дни будут погашаться\r\n                  следующим днем{\" \"}\r\n                </p>\r\n              </div>\r\n              <div style={{ width: \"300px\" }}>\r\n                <Button\r\n                  className=\"success\"\r\n                  label=\"Перейти к оплате\"\r\n                  onClick={() => history.push(\"/result\")}\r\n                  disabled={totalForPayment <= 0}\r\n                />\r\n                <div\r\n                  style={{\r\n                    display: \"flex\",\r\n                    flexDirection: \"row\",\r\n                    marginTop: \"23px\",\r\n                  }}\r\n                >\r\n                  <Tooltip\r\n                    message={\r\n                      \"При оплате картами других банков может взиматься комиссия\"\r\n                    }\r\n                  >\r\n                    <span className=\"tooltip-svg\">\r\n                      <SVG src={QuestionMark} />\r\n                    </span>\r\n                  </Tooltip>\r\n                  <span style={{ color: \"red\", marginRight: \"5px\" }}>*</span>\r\n                  <p\r\n                    style={{\r\n                      maxWidth: \"430px\",\r\n                      color: \"#737373\",\r\n                      fontSize: \"14px\",\r\n                    }}\r\n                  >\r\n                    При оплате картами других банков может взиматься комиссия\r\n                  </p>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </>\r\n        )}\r\n\r\n        {mobile && (\r\n          <>\r\n            <div\r\n              className=\"container\"\r\n              style={{\r\n                marginBottom: \"50px\",\r\n                marginTop: \"36px\",\r\n                display: \"flex\",\r\n                justifyContent: \"center\",\r\n                flexDirection: \"column\",\r\n                alignItems: \"center\",\r\n              }}\r\n            >\r\n              <div\r\n                style={{\r\n                  display: \"flex\",\r\n                  flexDirection: \"column\",\r\n                  alignItems: \"center\",\r\n                }}\r\n              >\r\n                <h3>Информация о заемщике</h3>\r\n                <DisabledInput label=\"Имя\" text=\"Оспанов Дамир Маратович\" />\r\n                <DisabledInput label=\"ИИН\" text=\"9601233212233\" />\r\n              </div>\r\n            </div>\r\n            <div className=\"container\">\r\n              <Tabs tabTitles={tabTitles}>\r\n                <ContractCards\r\n                  tableTitle={tableTitles}\r\n                  tableData={tableData}\r\n                  page={0}\r\n                  handleTableChange={handleTableChange}\r\n                />\r\n                <ContractCards\r\n                  tableTitle={tableTitles2}\r\n                  tableData={tableData}\r\n                  page={0}\r\n                  handleTableChange={handleTableChange}\r\n                />\r\n              </Tabs>\r\n            </div>\r\n            <div\r\n              className=\"container\"\r\n              style={{\r\n                marginTop: \"50px\",\r\n                display: \"flex\",\r\n                flexDirection: \"column\",\r\n                justifyContent: \"center\",\r\n                alignItems: \"center\",\r\n                marginBottom: \"50px\",\r\n              }}\r\n            >\r\n              <h2>Итого к оплате: {formatter.format(totalForPayment)} ₸</h2>\r\n              <div\r\n                style={{\r\n                  display: \"flex\",\r\n                  flexDirection: \"row\",\r\n                  marginTop: \"15px\",\r\n                  marginBottom: \"46px\",\r\n                }}\r\n              >\r\n                <span style={{ color: \"red\", marginRight: \"5px\" }}>*</span>\r\n                <p\r\n                  style={{\r\n                    maxWidth: \"430px\",\r\n                    color: \"#737373\",\r\n                    fontSize: \"14px\",\r\n                  }}\r\n                >\r\n                  Оплаты принятые после <strong>19:00</strong> в рабочие дни, в{\" \"}\r\n                  <strong>выходные и праздничные</strong> дни будут погашаться\r\n                  следующим днем{\" \"}\r\n                </p>\r\n              </div>\r\n\r\n              <Button\r\n                className=\"success\"\r\n                label=\"Перейти к оплате\"\r\n                onClick={() => history.push(\"/result\")}\r\n                disabled={totalForPayment <= 0}\r\n              />\r\n              <div\r\n                style={{\r\n                  display: \"flex\",\r\n                  flexDirection: \"row\",\r\n                  marginTop: \"22px\",\r\n                }}\r\n              >\r\n                <span style={{ color: \"red\", marginRight: \"5px\" }}>*</span>\r\n                <p\r\n                  style={{\r\n                    maxWidth: \"430px\",\r\n                    color: \"#737373\",\r\n                    fontSize: \"14px\",\r\n                  }}\r\n                >\r\n                  При оплате картами других банков может взиматься комиссия\r\n                </p>\r\n              </div>\r\n            </div>\r\n          </>\r\n        )}\r\n        <div className=\"container\" style={{ marginTop: \"72px\" }}>\r\n          <Accordion faqItems={faqItems} />\r\n        </div>\r\n      </div>\r\n    </Layout>\r\n  );\r\n};\r\n\r\nexport default PaymentPage;\r\n"],"sourceRoot":""}