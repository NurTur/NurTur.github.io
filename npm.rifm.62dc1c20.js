"use strict";(self.webpackChunknew_react_lending=self.webpackChunknew_react_lending||[]).push([[161],{8315:(e,t,n)=>{n.d(t,{u:()=>u});var r=n(7294);const u=e=>{const[,t]=(0,r.useReducer)((e=>e+1),0),n=(0,r.useRef)(null),{replace:u,append:c}=e,l=u?u(e.format(e.value)):e.format(e.value),s=(0,r.useRef)(!1);return(0,r.useLayoutEffect)((()=>{if(null==n.current)return;let[r,s,a,o,d]=n.current;n.current=null;const i=o&&d,f=r.slice(s.selectionStart).search(e.accept||/\d/g),m=-1!==f?f:0,h=t=>(t.match(e.accept||/\d/g)||[]).join(""),g=h(r.substr(0,s.selectionStart)),v=e=>{let t=0,n=0;for(let r=0;r!==g.length;++r){let u=e.indexOf(g[r],t)+1,c=h(e).indexOf(g[r],n)+1;c-n>1&&(u=t,c=n),n=Math.max(c,n),t=Math.max(t,u)}return t};if(!0===e.mask&&a&&!d){let e=v(r);const t=h(r.substr(e))[0];e=r.indexOf(t,e),r=`${r.substr(0,e)}${r.substr(e+1)}`}let k=e.format(r);null==c||s.selectionStart!==r.length||d||(a?k=c(k):""===h(k.slice(-1))&&(k=k.slice(0,-1)));const p=u?u(k):k;return l===p?t():e.onChange(p),()=>{let t=v(k);if(null!=e.mask&&(a||o&&!i))for(;k[t]&&""===h(k[t]);)t+=1;s.selectionStart=s.selectionEnd=t+(i?1+m:0)}})),(0,r.useEffect)((()=>{const e=e=>{"Delete"===e.code&&(s.current=!0)},t=e=>{"Delete"===e.code&&(s.current=!1)};return document.addEventListener("keydown",e),document.addEventListener("keyup",t),()=>{document.removeEventListener("keydown",e),document.removeEventListener("keyup",t)}}),[]),{value:null!=n.current?n.current[0]:l,onChange:r=>{const u=r.target.value;n.current=[u,r.target,u.length>l.length,s.current,l===e.format(u)],t()}}}}}]);
//# sourceMappingURL=npm.rifm.62dc1c20.js.map